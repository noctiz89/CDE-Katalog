<div xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir ../../input-cache/schemas/R5/fhir-single.xsd">

<h3>Notizen und konzeptionelles Vorgehen</h3>

<h4>Conceptual_Domain (CD) = Observation.category</h4>

<p><ul><li>
    Slicing von Observation.category
    <li>
        Discriminator-Typ = #value
    </li>
    <li>
        Diskriminator-Pfad = "coding"
    </li>
    <li>
        Slicing Regel = #openAtEnd
    </li>
    <li>
        Slicing Ordnung = true
    </li>
</li></ul>

So ergibt sich eine geordnete Liste/Kette mit Konzepten, die nur am Ende erweitert werden kann. Die Verwendung einer geeigneten Terminologie/Ontologie/Taxonomie, die das Data_Element_Concept (Zielkonzept) am 'besten' abbildet.


<p style="center">Beispiel für das Daten_Element_Concept "Age" mit dem NCI Thesaurus OBO Edition<br></br><img height="450" alt="Hierarchy of Data Element Concept Age" src="hierarchy-of-DEC-Age.png"/></p><br></br>

<!-- <div>Beispiel für das Daten_Element_Concept "Body Mass Index" mit der Clinical Measurement Ontologie (CMO)<br><p style="center"></br><img height="450" alt="Hierarchy of Data Element Concept Body Mass Index" src="hierarchy-of-DEC-BodyMassIndex.png"/></p>
</div>-->

Ein praktisches Werkzeug dafür, ist die (OLS Ontologie Search)[https://www.ebi.ac.uk/ols/index] des European Bioinformatics Institute, da dort mehrere Ontologien auf einen Blick vergleichbar sind
</p>


<h4>Data_Element_Concept (DEC) = Observation.code</h4>
<p><ul>
    <li>Observation.code.coding.system ~ eine zugängliche und domänen-übliche Terminologie verwenden, z.B. LOINC für Labormessungen oder SNOMED für medizinische Begriffe</li>
        <li>Observation.code.coding.code ~ entsprechender Code aus verwendeter Terminolgie</li>
        <li>Observation.code.text ~ bevorzugter Text für Terminologie-Code</li>
        <ul>
            <li>z.B. DEC "Body mass Index (BMI)"</li>
                <ul>
                    <li>system = http://loinc.org</li>
                    <li>code = 39156-5</li>
                    <li>text = "Body mass index BMI [Ratio]"</li>
    </ul>
</ul>
</ul>
</p>


<h4>Value_Domain (VD) mit value[x]</h4>
<p>
    <li>Unterscheidung von quantitativer (messbar / zählbar) und qualitativer (nominal / ordinal) VD</li>
</p><br>

<h4>valueQuantity (Typ Quantity) ~ quantitativ, messbare Value_Domain</h4>
<p>
    <li>Quantity.value ~ ist der eigentliche Wert den das Datenelement misst</li>
    <li>Quantity.system, Quantity.code ~ stellen die Einheit des Messwerts dar (maschinenlesbar)</li>
    <li>* z.B. das Data_Element_Concept "Größe"</li>
    <ul>
        <li>im Allgemeinen ist mit "Größe" die Körpergröße einer Person, also die Länge von Kopf bis Fuß gemeint, jedoch kann die VD natürlich für alles verwendet werden, was man physikalisch messen kann</li>
        <li>daher wurden hier die üblichen Längenmaßeinheiten des metrischen Systems (Kilometer, Meter, Zentimeter, Millimeter usw.) mit [UCUM-Codes](http://unitsofmeasure.org) definiert und in einem ValueSet zusammengefasst und mit FHIR auf "required" gesetzt</li>
        <li>dabei werden bei dem CDE_BodyHeight die Maßeinheiten 'cm' oder 'm' (aus dem ValueSet) empfohlen </li>
        <li>in anderen Fällen, wie z.B. CDE_BodyWeight ist nur die Maßeinheit "kg" zulässig</li>
        </ul>
    <li>Quantity.unit ~ menschenlesbare Einheit als string. Es ist fixer Wert vorgegeben, aber muss angegben werden (Kardinalität 1..1).</li>
    <li>z.B. "Kilogramm", "kg", "kilogramo" (spanisch) oder auch "公斤" (chinesisch, traditionell)</li>
</p>
</br>

<h4>valueInteger (Typ integer) ~ quantitativ, zählbare Value_Domain</h4>
<p><ul>
    <li>es ist fraglich, ob eine solche Unterscheidung notwendig ist, die Idee ist jedoch:</li>
        <ul>
        <li>der Unterschied zur "messbaren VD" ist, dass es keine übliche Maßeinheiten gibt, sondern die Anzahl von 'Dingen' eine Rolle spielt, wie z.B. die "Anzahl der Grippefälle" in einem Zeitraum</li>
        <li>der Unterschied zur "ordinalen VD" ist, dass hier die Berechnung von statistischen Größen, wie Mittelwert, Standardabweichung etc. sinnvoll sein kann</li>
        <li>TODO: ein Beispiel</li>
    </ul>
</ul>
</p>

<h4>valueCodeableConcept (Typ CodeableConcept) ~ qualitativ, kategorial Value_Domain</h4>
<p>
    <li>Idee erklärt, anhand der kategorialen Unterscheidung von "Geschlecht, zugewiesen bei Geburt"</li>
    <ul>
        <li>maximal 1 von 3 Ausprägungen möglich: *männlich | weiblich | intersexuell*</li>
        <li>die Konzepte werden mit SNOMED codiert und sind zwingend erforderlich (required)</li>
        <li>Text entspricht dem bevorzugten Term von SNOMED und bleibt unverändert (da englisch und deshalb allgemein verständlich)</li>
    </ul>
        <li>bisher folgende Festlegungen in FHIR:</li>
    <ul>
        <li>Observation.value[x] only CodeableConcept [0..1] (Kardinalität 0, da für fehlende Werte stets ein dataAbsentReason möglich sein soll)</li>
        <li>ValueSet mit den 3 Ausprägungen SNOMED-Code + Text</li>
        <li>es soll aber möglich sein an die jeweilige Kategorie, z.B. männlich - weitere Codierungen, wie z.B. LOINC anzuhängen</li>
    </ul>
    Für die Unterscheidung von  soll der gegebene Snomed-Codes erforderlich sein! Es soll aber möglich sein, die entsprechenden Konzepte zu erweitern. z.B. "
</p>
</div> 